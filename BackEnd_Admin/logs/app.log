2025-11-28 14:19:25 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 14:19:25 INFO  [main] com.example.nutrition.Application - Starting Application v0.1.0-SNAPSHOT using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 2108 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\nutrition-backend-0.1.0-SNAPSHOT.jar started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 14:19:25 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 14:19:27 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 14:19:27 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 7 JPA repository interfaces.
2025-11-28 14:19:32 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 14:19:32 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 14:19:32 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 14:19:32 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 14:19:32 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 14:19:32 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7015 ms
2025-11-28 14:19:33 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 14:19:33 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 14:19:33 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 14:19:34 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 14:19:34 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 14:19:34 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 14:19:34 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    create table comments (
       id bigint not null auto_increment,
        avatar varchar(256),
        content TEXT not null,
        created_at datetime(6),
        username varchar(64) not null,
        post_id bigint not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    create table post_likes (
       id bigint not null auto_increment,
        created_at datetime(6),
        post_id bigint not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    create table posts (
       id bigint not null auto_increment,
        comment_count integer,
        content TEXT,
        created_at datetime(6),
        creator_avatar varchar(256),
        creator_name varchar(64) not null,
        images TEXT,
        like_count integer,
        status integer not null,
        title varchar(200) not null,
        updated_at datetime(6),
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    alter table post_likes 
       drop index UK5l2rj28vw5oj6f7ox746grokg
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    alter table post_likes 
       add constraint UK5l2rj28vw5oj6f7ox746grokg unique (post_id, user_id)
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    alter table comments 
       add constraint FKh4c7lvsc298whoyd4w9ta25cr 
       foreign key (post_id) 
       references posts (id)
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    alter table comments 
       add constraint FK8omq0tc18jd43bu5tjh6jvraq 
       foreign key (user_id) 
       references users (id)
2025-11-28 14:19:36 DEBUG [main] org.hibernate.SQL - 
    
    alter table post_likes 
       add constraint FKa5wxsgl4doibhbed9gm7ikie2 
       foreign key (post_id) 
       references posts (id)
2025-11-28 14:19:37 DEBUG [main] org.hibernate.SQL - 
    
    alter table post_likes 
       add constraint FKkgau5n0nlewg6o9lr4yibqgxj 
       foreign key (user_id) 
       references users (id)
2025-11-28 14:19:37 DEBUG [main] org.hibernate.SQL - 
    
    alter table posts 
       add constraint FK5lidm6cqbc7u4xhqpxm898qme 
       foreign key (user_id) 
       references users (id)
2025-11-28 14:19:37 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 14:19:37 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:19:43 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@726386ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@649f2009, org.springframework.security.web.context.SecurityContextPersistenceFilter@ecf9049, org.springframework.security.web.header.HeaderWriterFilter@2ca65ce4, org.springframework.security.web.authentication.logout.LogoutFilter@2ad3a1bb, com.example.nutrition.security.JwtAuthenticationFilter@24faea88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2970a5bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72efb5c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14bb2297, org.springframework.security.web.session.SessionManagementFilter@2b5cb9b2, org.springframework.security.web.access.ExceptionTranslationFilter@7072bc39, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5af9926a]
2025-11-28 14:19:45 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 14:19:45 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 14:19:45 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 14:19:46 INFO  [main] com.example.nutrition.Application - Started Application in 21.201 seconds (JVM running for 22.688)
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    insert 
    into
        users
        (avatar_url, created_at, email, name, password_hash, phone, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    insert 
    into
        users
        (avatar_url, created_at, email, name, password_hash, phone, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-11-28 14:19:46 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 14:19:46 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:19:46 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:19:46 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:19:46 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 14:19:46 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 14:21:58 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:21:58 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 14:21:58 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 14:22:38 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 14:22:38 INFO  [main] com.example.nutrition.Application - Starting Application v0.1.0-SNAPSHOT using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 21680 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\nutrition-backend-0.1.0-SNAPSHOT.jar started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 14:22:38 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 14:22:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 14:22:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 126 ms. Found 7 JPA repository interfaces.
2025-11-28 14:22:44 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 14:22:44 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 14:22:44 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 14:22:44 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 14:22:44 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 14:22:44 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6266 ms
2025-11-28 14:22:45 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 14:22:45 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 14:22:45 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 14:22:45 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 14:22:46 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 14:22:46 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 14:22:46 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 14:22:49 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 14:22:49 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:22:55 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70d2e40b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@120f38e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a9419d7, org.springframework.security.web.header.HeaderWriterFilter@2ca47471, org.springframework.security.web.authentication.logout.LogoutFilter@5c77053b, com.example.nutrition.security.JwtAuthenticationFilter@741b3bc3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e8ab815, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d1f74b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a0e1b5e, org.springframework.security.web.session.SessionManagementFilter@f31c0c6, org.springframework.security.web.access.ExceptionTranslationFilter@c00fff0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5bd73d1a]
2025-11-28 14:22:57 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 14:22:57 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 14:22:57 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 14:22:57 INFO  [main] com.example.nutrition.Application - Started Application in 19.523 seconds (JVM running for 20.401)
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:22:57 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 14:22:57 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:22:57 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:22:57 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:22:57 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 14:22:57 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 14:29:12 INFO  [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28 14:29:12 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-28 14:29:12 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-28 14:29:12 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:29:12 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:29:12 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:29:12 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:32:02 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:32:02 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:32:02 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.DietService - 搜索食物: 鸡蛋
2025-11-28 14:32:02 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - AI功能未启用，使用本地数据库搜索: 鸡蛋
2025-11-28 14:32:16 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:32:16 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:32:16 INFO  [http-nio-8081-exec-7] c.e.nutrition.service.DietService - 搜索食物: 鸡
2025-11-28 14:32:16 INFO  [http-nio-8081-exec-7] c.e.nutrition.service.AIFoodService - AI功能未启用，使用本地数据库搜索: 鸡
2025-11-28 14:32:58 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:32:58 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:32:58 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:32:58 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:32:58 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    insert 
    into
        diet_records
        (calories, carbohydrates, created_at, fat, food_name, image_url, meal_type, protein, record_date, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-28 14:32:58 INFO  [http-nio-8081-exec-8] c.e.nutrition.service.DietService - 用户 2 添加饮食记录: 1
2025-11-28 14:33:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:33:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:33:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:33:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:33:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    insert 
    into
        diet_records
        (calories, carbohydrates, created_at, fat, food_name, image_url, meal_type, protein, record_date, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-28 14:33:18 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.DietService - 用户 2 添加饮食记录: 2
2025-11-28 14:33:27 DEBUG [http-nio-8081-exec-9] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:33:27 DEBUG [http-nio-8081-exec-9] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:33:27 DEBUG [http-nio-8081-exec-9] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:33:27 DEBUG [http-nio-8081-exec-9] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:33:27 DEBUG [http-nio-8081-exec-9] org.hibernate.SQL - 
    insert 
    into
        diet_records
        (calories, carbohydrates, created_at, fat, food_name, image_url, meal_type, protein, record_date, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-28 14:33:27 INFO  [http-nio-8081-exec-9] c.e.nutrition.service.DietService - 用户 2 添加饮食记录: 3
2025-11-28 14:34:07 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:34:07 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:34:07 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:34:07 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:34:07 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        dietrecord0_.id as id1_1_,
        dietrecord0_.calories as calories2_1_,
        dietrecord0_.carbohydrates as carbohyd3_1_,
        dietrecord0_.created_at as created_4_1_,
        dietrecord0_.fat as fat5_1_,
        dietrecord0_.food_name as food_nam6_1_,
        dietrecord0_.image_url as image_ur7_1_,
        dietrecord0_.meal_type as meal_typ8_1_,
        dietrecord0_.protein as protein9_1_,
        dietrecord0_.record_date as record_10_1_,
        dietrecord0_.updated_at as updated11_1_,
        dietrecord0_.user_id as user_id12_1_ 
    from
        diet_records dietrecord0_ 
    where
        dietrecord0_.user_id=? 
    order by
        dietrecord0_.record_date desc,
        dietrecord0_.created_at desc
2025-11-28 14:34:25 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:34:25 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:34:25 WARN  [http-nio-8081-exec-2] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        dietrecord0_.id as col_0_0_ 
    from
        diet_records dietrecord0_ 
    where
        dietrecord0_.id=? 
        and dietrecord0_.user_id=? limit ?
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        dietrecord0_.id as id1_1_,
        dietrecord0_.calories as calories2_1_,
        dietrecord0_.carbohydrates as carbohyd3_1_,
        dietrecord0_.created_at as created_4_1_,
        dietrecord0_.fat as fat5_1_,
        dietrecord0_.food_name as food_nam6_1_,
        dietrecord0_.image_url as image_ur7_1_,
        dietrecord0_.meal_type as meal_typ8_1_,
        dietrecord0_.protein as protein9_1_,
        dietrecord0_.record_date as record_10_1_,
        dietrecord0_.updated_at as updated11_1_,
        dietrecord0_.user_id as user_id12_1_ 
    from
        diet_records dietrecord0_ 
    where
        dietrecord0_.id=? 
        and dietrecord0_.user_id=?
2025-11-28 14:35:10 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.DietService - 用户 2 删除饮食记录: 1
2025-11-28 14:35:10 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    delete 
    from
        diet_records 
    where
        id=?
2025-11-28 14:42:56 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:42:56 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 14:42:56 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 14:51:12 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 14:51:12 INFO  [main] com.example.nutrition.Application - Starting Application using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 30436 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\classes started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 14:51:12 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 14:51:14 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 14:51:14 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 7 JPA repository interfaces.
2025-11-28 14:51:18 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 14:51:18 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 14:51:18 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 14:51:18 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 14:51:18 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 14:51:18 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5426 ms
2025-11-28 14:51:18 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 14:51:18 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 14:51:18 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 14:51:19 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 14:51:19 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 14:51:19 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 14:51:19 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 14:51:20 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 14:51:20 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:51:25 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74badf19, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59b3f754, org.springframework.security.web.context.SecurityContextPersistenceFilter@48da64f2, org.springframework.security.web.header.HeaderWriterFilter@646d58cd, org.springframework.security.web.authentication.logout.LogoutFilter@44a44a04, com.example.nutrition.security.JwtAuthenticationFilter@7462ba4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2aa811f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d4da729, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18dbc1b, org.springframework.security.web.session.SessionManagementFilter@1d5bb5c, org.springframework.security.web.access.ExceptionTranslationFilter@5649f55, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d654b5f]
2025-11-28 14:51:26 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 14:51:26 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 14:51:26 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 14:51:26 INFO  [main] com.example.nutrition.Application - Started Application in 14.017 seconds (JVM running for 14.883)
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:51:26 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 14:51:26 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:51:26 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:51:26 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:51:26 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 14:51:26 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 14:52:55 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:52:55 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 14:52:55 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 14:53:07 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 14:53:07 INFO  [main] com.example.nutrition.Application - Starting Application using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 33800 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\classes started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 14:53:07 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 14:53:08 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 14:53:08 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 7 JPA repository interfaces.
2025-11-28 14:53:12 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 14:53:12 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 14:53:12 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 14:53:12 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 14:53:12 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 14:53:12 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5099 ms
2025-11-28 14:53:12 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 14:53:13 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 14:53:13 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 14:53:13 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 14:53:13 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 14:53:13 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 14:53:13 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 14:53:14 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 14:53:14 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 14:53:19 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@499c4d61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74badf19, org.springframework.security.web.context.SecurityContextPersistenceFilter@41b66d1, org.springframework.security.web.header.HeaderWriterFilter@5a8b42a3, org.springframework.security.web.authentication.logout.LogoutFilter@4ebd8d2, com.example.nutrition.security.JwtAuthenticationFilter@76134b9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@148fca83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66abb2fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59b3f754, org.springframework.security.web.session.SessionManagementFilter@401b67a9, org.springframework.security.web.access.ExceptionTranslationFilter@183ef89a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51468039]
2025-11-28 14:53:20 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 14:53:20 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 14:53:20 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 14:53:20 INFO  [main] com.example.nutrition.Application - Started Application in 13.341 seconds (JVM running for 14.125)
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:53:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 14:53:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 14:53:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 14:53:20 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 14:53:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 14:53:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 15:00:32 INFO  [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28 15:00:32 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-28 15:00:32 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-28 15:00:32 WARN  [http-nio-8081-exec-1] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.example.nutrition.common.ApiResponse<java.util.Map<java.lang.String, java.lang.Object>> com.example.nutrition.controller.AuthController.register(com.example.nutrition.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [123456]; codes [Pattern.registerRequest.password,Pattern.password,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],[Ljavax.validation.constraints.Pattern$Flag;@23c7b31e,^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$]; default message [Password must contain letters and numbers]] ]
2025-11-28 15:02:56 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:02:56 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:02:56 ERROR [http-nio-8081-exec-4] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Invalid password] with root cause
java.lang.IllegalArgumentException: Invalid password
	at com.example.nutrition.service.UserService.login(UserService.java:80)
	at com.example.nutrition.service.UserService$$FastClassBySpringCGLIB$$75573b0a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.nutrition.service.UserService$$EnhancerBySpringCGLIB$$68044e3.login(<generated>)
	at com.example.nutrition.controller.AuthController.login(AuthController.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.nutrition.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:05:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:05:18 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:05:18 ERROR [http-nio-8081-exec-6] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Invalid password] with root cause
java.lang.IllegalArgumentException: Invalid password
	at com.example.nutrition.service.UserService.login(UserService.java:80)
	at com.example.nutrition.service.UserService$$FastClassBySpringCGLIB$$75573b0a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.nutrition.service.UserService$$EnhancerBySpringCGLIB$$68044e3.login(<generated>)
	at com.example.nutrition.controller.AuthController.login(AuthController.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.nutrition.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:05:26 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:05:26 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 15:05:26 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 15:06:50 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 15:06:50 INFO  [main] com.example.nutrition.Application - Starting Application using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 6216 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\classes started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 15:06:50 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 15:06:51 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 15:06:51 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 121 ms. Found 7 JPA repository interfaces.
2025-11-28 15:06:55 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 15:06:55 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 15:06:55 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 15:06:55 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 15:06:55 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 15:06:55 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5211 ms
2025-11-28 15:06:56 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 15:06:56 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 15:06:56 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 15:06:56 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 15:06:56 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 15:06:56 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 15:06:56 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 15:06:57 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 15:06:57 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:07:02 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c5ac0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23d978b, org.springframework.security.web.context.SecurityContextPersistenceFilter@70f91ae3, org.springframework.security.web.header.HeaderWriterFilter@4552f905, org.springframework.security.web.authentication.logout.LogoutFilter@124ff64d, com.example.nutrition.security.JwtAuthenticationFilter@3a8fb023, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c2a3f0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d93ff21, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cf70afa, org.springframework.security.web.session.SessionManagementFilter@2133b712, org.springframework.security.web.access.ExceptionTranslationFilter@57a5b03, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18dbc1b]
2025-11-28 15:07:02 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 15:07:03 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 15:07:03 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 15:07:03 INFO  [main] com.example.nutrition.Application - Started Application in 13.295 seconds (JVM running for 14.223)
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:07:03 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 15:07:03 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:03 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:07:03 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:07:03 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 15:07:03 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 15:07:15 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:07:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 15:07:15 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 15:07:43 INFO  [main] com.example.nutrition.Application - Starting Application using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 23100 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\classes started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 15:07:43 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 15:07:43 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 15:07:45 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 15:07:45 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 111 ms. Found 7 JPA repository interfaces.
2025-11-28 15:07:48 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 15:07:48 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 15:07:48 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 15:07:48 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 15:07:49 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 15:07:49 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5598 ms
2025-11-28 15:07:49 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 15:07:49 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 15:07:49 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 15:07:49 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 15:07:49 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 15:07:50 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 15:07:50 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 15:07:51 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 15:07:51 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:07:55 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@575d48db, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b36d248, org.springframework.security.web.context.SecurityContextPersistenceFilter@41b66d1, org.springframework.security.web.header.HeaderWriterFilter@15ad5acb, org.springframework.security.web.authentication.logout.LogoutFilter@227b9277, com.example.nutrition.security.JwtAuthenticationFilter@9f2376f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@148fca83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72585e83, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e94de5f, org.springframework.security.web.session.SessionManagementFilter@401b67a9, org.springframework.security.web.access.ExceptionTranslationFilter@146833a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@166ddfb7]
2025-11-28 15:07:56 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 15:07:56 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 15:07:56 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 15:07:56 INFO  [main] com.example.nutrition.Application - Started Application in 13.597 seconds (JVM running for 14.423)
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:07:56 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 15:07:56 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:07:56 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:07:56 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:07:56 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 15:07:56 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 15:08:35 INFO  [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28 15:08:35 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-28 15:08:35 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-28 15:08:57 WARN  [http-nio-8081-exec-2] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.example.nutrition.common.ApiResponse<java.util.Map<java.lang.String, java.lang.Object>> com.example.nutrition.controller.AuthController.register(com.example.nutrition.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [123456]; codes [Pattern.registerRequest.password,Pattern.password,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],[Ljavax.validation.constraints.Pattern$Flag;@7501fc87,^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$]; default message [Password must contain letters and numbers]] ]
2025-11-28 15:09:06 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:09:06 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:09:06 ERROR [http-nio-8081-exec-4] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Invalid password] with root cause
java.lang.IllegalArgumentException: Invalid password
	at com.example.nutrition.service.UserService.login(UserService.java:80)
	at com.example.nutrition.service.UserService$$FastClassBySpringCGLIB$$75573b0a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.nutrition.service.UserService$$EnhancerBySpringCGLIB$$3abea25a.login(<generated>)
	at com.example.nutrition.controller.AuthController.login(AuthController.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.nutrition.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:09:44 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:09:44 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:09:44 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    insert 
    into
        users
        (avatar_url, created_at, email, name, password_hash, phone, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-28 15:09:44 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:09:44 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-11-28 15:10:01 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:10:01 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:10:01 ERROR [http-nio-8081-exec-7] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Invalid password] with root cause
java.lang.IllegalArgumentException: Invalid password
	at com.example.nutrition.service.UserService.login(UserService.java:80)
	at com.example.nutrition.service.UserService$$FastClassBySpringCGLIB$$75573b0a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.nutrition.service.UserService$$EnhancerBySpringCGLIB$$3abea25a.login(<generated>)
	at com.example.nutrition.controller.AuthController.login(AuthController.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.nutrition.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:10:06 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:10:06 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:10:06 ERROR [http-nio-8081-exec-8] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Invalid password] with root cause
java.lang.IllegalArgumentException: Invalid password
	at com.example.nutrition.service.UserService.login(UserService.java:80)
	at com.example.nutrition.service.UserService$$FastClassBySpringCGLIB$$75573b0a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.nutrition.service.UserService$$EnhancerBySpringCGLIB$$3abea25a.login(<generated>)
	at com.example.nutrition.controller.AuthController.login(AuthController.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.nutrition.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:11:22 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:11:22 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:11:22 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:11:22 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:11:42 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:11:42 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:11:42 ERROR [http-nio-8081-exec-3] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Invalid password] with root cause
java.lang.IllegalArgumentException: Invalid password
	at com.example.nutrition.service.UserService.login(UserService.java:80)
	at com.example.nutrition.service.UserService$$FastClassBySpringCGLIB$$75573b0a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.nutrition.service.UserService$$EnhancerBySpringCGLIB$$3abea25a.login(<generated>)
	at com.example.nutrition.controller.AuthController.login(AuthController.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.nutrition.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:36)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:14:06 ERROR [http-nio-8081-exec-5] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String "//"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:535)
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:505)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:206)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:15:31 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:15:31 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:15:31 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:15:31 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:17:10 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:17:10 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:17:10 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:17:10 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:18:49 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:18:49 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:18:49 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.DietService - 开始AI食物识别: ?????
2025-11-28 15:18:49 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ?????
2025-11-28 15:20:40 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:20:40 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:20:40 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.DietService - 开始AI食物识别: white rice
2025-11-28 15:20:40 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: white rice
2025-11-28 15:28:24 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:28:24 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 15:28:24 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 15:29:07 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 15:29:07 INFO  [main] com.example.nutrition.Application - Starting Application using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 25720 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\classes started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 15:29:07 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 15:29:08 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 15:29:08 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 7 JPA repository interfaces.
2025-11-28 15:29:11 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 15:29:11 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 15:29:12 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 15:29:12 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 15:29:12 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 15:29:12 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5169 ms
2025-11-28 15:29:12 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 15:29:12 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 15:29:12 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&createDatabaseIfNotExist=true'
2025-11-28 15:29:12 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 15:29:12 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 15:29:13 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 15:29:13 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 15:29:14 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 15:29:14 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:29:19 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4feec184, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e055ce1, org.springframework.security.web.context.SecurityContextPersistenceFilter@11582db6, org.springframework.security.web.header.HeaderWriterFilter@146833a2, org.springframework.security.web.authentication.logout.LogoutFilter@70f91ae3, com.example.nutrition.security.JwtAuthenticationFilter@627acb38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57a5b03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@558127d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3278d065, org.springframework.security.web.session.SessionManagementFilter@351e86b2, org.springframework.security.web.access.ExceptionTranslationFilter@33f2eb04, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24435620]
2025-11-28 15:29:19 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 15:29:20 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 15:29:20 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 15:29:20 INFO  [main] com.example.nutrition.Application - Started Application in 13.699 seconds (JVM running for 14.552)
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:29:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 15:29:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:29:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:29:20 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:29:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 15:29:20 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 15:30:03 INFO  [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28 15:30:03 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-28 15:30:03 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-28 15:30:03 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:30:03 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:30:03 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:30:03 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:30:35 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:30:35 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:30:35 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.DietService - 开始AI食物识别: ?????
2025-11-28 15:30:35 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ?????
2025-11-28 15:30:35 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - AI识别成功: 未知
2025-11-28 15:31:04 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:31:04 DEBUG [http-nio-8081-exec-2] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:31:04 INFO  [http-nio-8081-exec-2] c.e.nutrition.service.DietService - 开始AI食物识别: ???
2025-11-28 15:31:04 INFO  [http-nio-8081-exec-2] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ???
2025-11-28 15:31:04 INFO  [http-nio-8081-exec-2] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物
2025-11-28 15:31:04 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:31:04 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:31:04 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.DietService - 开始AI食物识别: ??????
2025-11-28 15:31:04 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ??????
2025-11-28 15:31:05 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物
2025-11-28 15:31:05 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:31:05 DEBUG [http-nio-8081-exec-5] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:31:05 INFO  [http-nio-8081-exec-5] c.e.nutrition.service.DietService - 开始AI食物识别: ????
2025-11-28 15:31:05 INFO  [http-nio-8081-exec-5] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ????
2025-11-28 15:31:06 INFO  [http-nio-8081-exec-5] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物
2025-11-28 15:31:06 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:31:06 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:31:06 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.DietService - 开始AI食物识别: ????
2025-11-28 15:31:06 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ????
2025-11-28 15:31:07 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物
2025-11-28 15:32:57 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:32:57 DEBUG [http-nio-8081-exec-8] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:32:57 INFO  [http-nio-8081-exec-8] c.e.nutrition.service.DietService - 开始AI食物识别: ?????
2025-11-28 15:32:57 INFO  [http-nio-8081-exec-8] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ?????
2025-11-28 15:32:58 INFO  [http-nio-8081-exec-8] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物
2025-11-28 15:34:22 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:34:22 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:34:22 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:34:22 DEBUG [http-nio-8081-exec-10] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:34:47 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:34:47 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:34:47 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.DietService - 开始AI食物识别: steamed rice
2025-11-28 15:34:47 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: steamed rice
2025-11-28 15:34:48 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.AIFoodService - AI识别成功: steamed rice
2025-11-28 15:35:17 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:35:17 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 15:35:17 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-28 15:35:39 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final
2025-11-28 15:35:39 INFO  [main] com.example.nutrition.Application - Starting Application using Java 1.8.0_202 on LAPTOP-U76OTIBE with PID 28788 (D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin\target\classes started by JNL in D:\2025-Autumn\移动互联网软件工程\mobile-internet\BackEnd_Admin)
2025-11-28 15:35:39 INFO  [main] com.example.nutrition.Application - The following 1 profile is active: "module2"
2025-11-28 15:35:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-28 15:35:40 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 7 JPA repository interfaces.
2025-11-28 15:35:43 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-11-28 15:35:43 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-28 15:35:43 INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-28 15:35:43 INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-11-28 15:35:44 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-28 15:35:44 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5181 ms
2025-11-28 15:35:44 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-28 15:35:44 INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-28 15:35:44 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/nutrition?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&useUnicode=true&createDatabaseIfNotExist=true'
2025-11-28 15:35:44 INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-28 15:35:44 INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-11-28 15:35:45 INFO  [main] o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-11-28 15:35:45 INFO  [main] org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-11-28 15:35:46 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-11-28 15:35:46 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:35:50 INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2759749, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4efed0e0, org.springframework.security.web.context.SecurityContextPersistenceFilter@56da8847, org.springframework.security.web.header.HeaderWriterFilter@7e9a836, org.springframework.security.web.authentication.logout.LogoutFilter@3c9ef37b, com.example.nutrition.security.JwtAuthenticationFilter@14201a90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c02a007, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61bd0845, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ac0ed65, org.springframework.security.web.session.SessionManagementFilter@50e1f3fc, org.springframework.security.web.access.ExceptionTranslationFilter@a6fc1bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bea5941]
2025-11-28 15:35:51 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoint(s) beneath base path '/actuator'
2025-11-28 15:35:51 INFO  [main] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-28 15:35:51 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-11-28 15:35:51 INFO  [main] com.example.nutrition.Application - Started Application in 13.078 seconds (JVM running for 13.918)
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:35:51 INFO  [main] c.e.nutrition.config.SecurityConfig - Starting to initialize default data...
2025-11-28 15:35:51 INFO  [main] c.e.nutrition.config.SecurityConfig - Initializing roles...
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-11-28 15:35:51 INFO  [main] c.e.nutrition.config.SecurityConfig - Checking for admin user...
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:35:51 DEBUG [main] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:35:51 INFO  [main] c.e.nutrition.config.SecurityConfig - Admin user already exists
2025-11-28 15:35:51 INFO  [main] c.e.nutrition.config.SecurityConfig - Default data initialization completed!
2025-11-28 15:35:57 INFO  [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28 15:35:57 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-28 15:35:57 INFO  [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-28 15:35:58 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:35:58 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:35:58 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:35:58 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:36:06 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:36:06 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:36:06 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.DietService - 开始AI食物识别: steamed rice
2025-11-28 15:36:06 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: steamed rice
2025-11-28 15:36:08 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - AI返回的content: {"foodName":"steamed rice","calories":125,"protein":1.3,"carbohydrates":49.2,"fat":0.2}
2025-11-28 15:36:08 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - AI识别成功: steamed rice - 热量:125, 蛋白质:1.3
2025-11-28 15:36:27 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:36:27 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:36:27 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.DietService - 开始AI食物识别: ?????
2025-11-28 15:36:27 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ?????
2025-11-28 15:36:29 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - AI返回的content: {
  "foodName": "未知食物",
  "calories": 0,
  "protein": 0,
  "carbohydrates": 0,
  "fat": 0
}
2025-11-28 15:36:29 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物 - 热量:0, 蛋白质:0
2025-11-28 15:38:04 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:38:04 DEBUG [http-nio-8081-exec-6] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:38:04 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.DietService - 开始AI食物识别: 米饭
2025-11-28 15:38:04 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: 米饭
2025-11-28 15:38:05 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.AIFoodService - AI返回的content: {"foodName":"米饭","calories":125,"protein":1.3,"carbohydrates":49.2,"fat":0.2}
2025-11-28 15:38:05 INFO  [http-nio-8081-exec-6] c.e.nutrition.service.AIFoodService - AI识别成功: 米饭 - 热量:125, 蛋白质:1.3
2025-11-28 15:39:44 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:39:44 DEBUG [http-nio-8081-exec-7] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:39:44 INFO  [http-nio-8081-exec-7] c.e.nutrition.service.DietService - 开始AI食物识别: ?????
2025-11-28 15:39:44 INFO  [http-nio-8081-exec-7] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: ?????
2025-11-28 15:39:46 INFO  [http-nio-8081-exec-7] c.e.nutrition.service.AIFoodService - AI返回的content: {
  "foodName": "未知食物",
  "calories": 0,
  "protein": 0,
  "carbohydrates": 0,
  "fat": 0
}
2025-11-28 15:39:46 INFO  [http-nio-8081-exec-7] c.e.nutrition.service.AIFoodService - AI识别成功: 未知食物 - 热量:0, 蛋白质:0
2025-11-28 15:40:48 ERROR [http-nio-8081-exec-10] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String "//"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:535)
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:505)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:206)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-11-28 15:40:57 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:40:57 DEBUG [http-nio-8081-exec-1] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:40:57 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.DietService - 开始AI食物识别: 一碗白米饭
2025-11-28 15:40:57 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: 一碗白米饭
2025-11-28 15:40:58 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.AIFoodService - AI返回的content: {"foodName":"白米饭","calories":126,"protein":1.3,"carbohydrates":45.2,"fat":0.1}
2025-11-28 15:40:58 INFO  [http-nio-8081-exec-1] c.e.nutrition.service.AIFoodService - AI识别成功: 白米饭 - 热量:126, 蛋白质:1.3
2025-11-28 15:41:53 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:41:53 DEBUG [http-nio-8081-exec-3] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:41:53 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.DietService - 开始AI食物识别: 牛肉
2025-11-28 15:41:53 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: 牛肉
2025-11-28 15:41:54 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - AI返回的content: {"foodName":"牛肉","calories":360,"protein":21.3,"carbohydrates":0,"fat":26.4}
2025-11-28 15:41:54 INFO  [http-nio-8081-exec-3] c.e.nutrition.service.AIFoodService - AI识别成功: 牛肉 - 热量:360, 蛋白质:21.3
2025-11-28 15:42:02 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        user0_.id as id1_7_,
        user0_.avatar_url as avatar_u2_7_,
        user0_.created_at as created_3_7_,
        user0_.email as email4_7_,
        user0_.name as name5_7_,
        user0_.password_hash as password6_7_,
        user0_.phone as phone7_7_,
        user0_.updated_at as updated_8_7_ 
    from
        users user0_ 
    where
        user0_.phone=?
2025-11-28 15:42:02 DEBUG [http-nio-8081-exec-4] org.hibernate.SQL - 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-11-28 15:42:02 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.DietService - 开始AI食物识别: 炸鸡
2025-11-28 15:42:02 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - 使用讯飞星火AI识别食物: 炸鸡
2025-11-28 15:42:03 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - AI返回的content: {"foodName":"炸鸡","calories":250,"protein":15,"carbohydrates":2,"fat":25}
2025-11-28 15:42:03 INFO  [http-nio-8081-exec-4] c.e.nutrition.service.AIFoodService - AI识别成功: 炸鸡 - 热量:250, 蛋白质:15
2025-11-28 15:52:26 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-28 15:52:26 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-28 15:52:26 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
